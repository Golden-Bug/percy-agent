POST /api/v1/projects/test/test/builds/
authorization: Token token=6326946734e29027aa8499ddc40fbf3c9a7958c6dcf36af2f00d8d0f8e6c8be4
content-type: application/vnd.api+json
host: percy.io
accept: application/json
body: {\"data\":{\"type\":\"builds\",\"attributes\":{\"branch\":\"master\",\"target-branch\":null,\"commit-sha\":\"29b987b1afa13638b3b5f4baa6f0119761701875\",\"commit-committed-at\":\"2018-04-16 17:33:20 -0700\",\"commit-author-name\":\"David Jones\",\"commit-author-email\":\"dgjones@gmail.com\",\"commit-committer-name\":\"David Jones\",\"commit-committer-email\":\"dgjones@gmail.com\",\"commit-message\":\"added tests for AgentService start and stop\",\"pull-request-number\":null,\"parallel-nonce\":null,\"parallel-total-shards\":null}}}

HTTP/1.1 201 Created
date: Tue, 17 Apr 2018 00:48:00 GMT
content-type: application/json; charset=utf-8
transfer-encoding: chunked
connection: keep-alive
set-cookie: __cfduid=ddfa9780cf3213adbe7d250601c6375201523926080; expires=Wed, 17-Apr-19 00:48:00 GMT; path=/; domain=.percy.io; HttpOnly
status: 201 Created
cache-control: no-cache, no-store, max-age=0, must-revalidate
access-control-allow-origin: *
x-xss-protection: 1; mode=block
x-request-id: 9093998e-8b16-938c-941b-0cda8ad5bdda
access-control-allow-headers: Authorization, Content-Type
access-control-allow-methods: GET, POST, PUT, PATCH, DELETE, OPTIONS
x-runtime: 0.109632
x-frame-options: SAMEORIGIN
x-content-type-options: nosniff
expires: Thu, 01 Jan 1970 00:00:00 GMT
x-envoy-upstream-service-time: 111
strict-transport-security: max-age=15552000; includeSubDomains; preload
expect-ct: max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
server: cloudflare
cf-ray: 40cae23448fc9390-SJC

{"data":{"type":"builds","id":"659575","attributes":{"branch":"master","build-number":1322,"web-url":"https://percy.io/test/test/builds/659575","state":"pending","review-state":null,"review-state-reason":null,"is-pull-request":false,"pull-request-number":null,"pull-request-title":null,"user-agent":"Percy/v1 percy-agent/XX percy-js/2.8.1 (node/v8.5.0)","total-snapshots":null,"total-snapshots-unreviewed":null,"total-comparisons":null,"total-comparisons-finished":null,"total-comparisons-diff":null,"failure-reason":null,"failure-details":null,"parallel-nonce":null,"parallel-total-shards":null,"finished-at":null,"approved-at":null,"created-at":"2018-04-17T00:48:00.000Z","updated-at":"2018-04-17T00:48:00.000Z"},"links":{"self":"/api/v1/builds/659575"},"relationships":{"project":{"links":{"self":"/api/v1/builds/659575/relationships/project","related":"/api/v1/builds/659575/project"},"data":{"type":"projects","id":"569"}},"commit":{"links":{"self":"/api/v1/builds/659575/relationships/commit","related":"/api/v1/builds/659575/commit"},"data":{"type":"commits","id":"516867"}},"repo":{"links":{"self":"/api/v1/builds/659575/relationships/repo","related":"/api/v1/builds/659575/repo"},"data":null},"base-build":{"links":{"self":"/api/v1/builds/659575/relationships/base-build","related":"/api/v1/builds/659575/base-build"},"data":{"type":"builds","id":"658775"}},"approved-by":{"links":{"self":"/api/v1/builds/659575/relationships/approved-by","related":"/api/v1/builds/659575/approved-by"},"data":null},"snapshots":{"links":{"self":"/api/v1/builds/659575/relationships/snapshots","related":"/api/v1/builds/659575/snapshots"}},"comparisons":{"links":{"self":"/api/v1/builds/659575/relationships/comparisons","related":"/api/v1/builds/659575/comparisons"}},"browsers":{"links":{"self":"/api/v1/builds/659575/relationships/browsers","related":"/api/v1/builds/659575/browsers"}},"missing-resources":{"links":{"self":"/api/v1/builds/659575/relationships/missing-resources","related":"/api/v1/builds/659575/missing-resources"}}},"meta":{"finalize-link":"/api/v1/builds/659575/finalize","approve-link":"/api/v1/builds/659575/approve"}},"included":[{"type":"projects","id":"569","attributes":{"name":"test","slug":"test","full-slug":"test/test","is-enabled":true,"diff-base":"automatic","created-at":"2016-11-16T16:24:46.000Z","updated-at":"2018-04-16T20:30:25.000Z"},"links":{"self":"/api/v1/projects/test/test"},"relationships":{"organization":{"links":{"self":"/api/v1/projects/test/test/relationships/organization","related":"/api/v1/projects/test/test/organization"}},"repo":{"links":{"self":"/api/v1/projects/test/test/relationships/repo","related":"/api/v1/projects/test/test/repo"}},"builds":{"links":{"self":"/api/v1/projects/test/test/relationships/builds","related":"/api/v1/projects/test/test/builds"}},"tokens":{"links":{"self":"/api/v1/projects/test/test/relationships/tokens","related":"/api/v1/projects/test/test/tokens"}}}},{"type":"commits","id":"516867","attributes":{"sha":"29b987b1afa13638b3b5f4baa6f0119761701875","message":"added tests for AgentService start and stop","committed-at":"2018-04-16 17:33:20 -0700","author-name":"David Jones","committer-name":"David Jones","created-at":"2018-04-17T00:44:17.000Z","updated-at":"2018-04-17T00:44:17.000Z"},"links":{"self":"/api/v1/commits/516867"}},{"type":"builds","id":"658775","attributes":{"branch":"master","build-number":1144,"web-url":"https://percy.io/test/test/builds/658775","state":"finished","review-state":"unreviewed","review-state-reason":"unreviewed_snapshots","is-pull-request":false,"pull-request-number":null,"pull-request-title":null,"user-agent":"Percy/v1 percy-agent/XX percy-js/2.8.1 (node/v8.5.0)","total-snapshots":3,"total-snapshots-unreviewed":2,"total-comparisons":9,"total-comparisons-finished":9,"total-comparisons-diff":6,"failure-reason":null,"failure-details":null,"parallel-nonce":null,"parallel-total-shards":null,"finished-at":"2018-04-16T20:30:25.000Z","approved-at":null,"created-at":"2018-04-16T20:28:12.000Z","updated-at":"2018-04-16T20:30:25.000Z"},"links":{"self":"/api/v1/builds/658775"},"relationships":{"project":{"links":{"self":"/api/v1/builds/658775/relationships/project","related":"/api/v1/builds/658775/project"},"data":{"type":"projects","id":"569"}},"commit":{"links":{"self":"/api/v1/builds/658775/relationships/commit","related":"/api/v1/builds/658775/commit"},"data":{"type":"commits","id":"516363"}},"repo":{"links":{"self":"/api/v1/builds/658775/relationships/repo","related":"/api/v1/builds/658775/repo"},"data":null},"base-build":{"links":{"self":"/api/v1/builds/658775/relationships/base-build","related":"/api/v1/builds/658775/base-build"}},"approved-by":{"links":{"self":"/api/v1/builds/658775/relationships/approved-by","related":"/api/v1/builds/658775/approved-by"}},"snapshots":{"links":{"self":"/api/v1/builds/658775/relationships/snapshots","related":"/api/v1/builds/658775/snapshots"}},"comparisons":{"links":{"self":"/api/v1/builds/658775/relationships/comparisons","related":"/api/v1/builds/658775/comparisons"}},"browsers":{"links":{"self":"/api/v1/builds/658775/relationships/browsers","related":"/api/v1/builds/658775/browsers"}},"missing-resources":{"links":{"self":"/api/v1/builds/658775/relationships/missing-resources","related":"/api/v1/builds/658775/missing-resources"}}},"meta":{"finalize-link":"/api/v1/builds/658775/finalize","approve-link":"/api/v1/builds/658775/approve"}},{"type":"commits","id":"516363","attributes":{"sha":"37c68c41e81f15015160990146723ad576cc2f1e","message":"added the ability to control+c --attached mode and have it finalize the build and shutdown the expressjs server","committed-at":"2018-04-16 11:58:25 -0700","author-name":"David Jones","committer-name":"David Jones","created-at":"2018-04-16T20:24:31.000Z","updated-at":"2018-04-16T20:24:31.000Z"},"links":{"self":"/api/v1/commits/516363"}}]}